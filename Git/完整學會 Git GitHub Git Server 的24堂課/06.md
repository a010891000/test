
## 取得 Git 檔案庫統計數據和繪製統計圖表 

### 6-1 取得 Git 檔案庫的統計數據

Git 檔案庫的統計數據包括參與開發城市專案的人員、 commit 次數以及程式碼行數，也可設定數據統計的期間。

相關指令：

1. `git log`

此指令會依照時間順序，從最近一次的 commit 節點開始，往前列出每一次 commit 的資料，包括識別碼、執行者、日期和時間以及說明。

此指令可搭派不同的選項，篩選出特定的 commit ，例如：

+ 顯示以大寫字母 A 開頭人名所執行的 commit 

```
git log --author='A'
```

+ 顯示有更動(包含：加入、刪除及修改內容)某些檔案的 commit

```
git log 檔案名稱1 檔案名稱2 ...
```

+ 顯示指定期間內的 commit

```
git log --after='2017-07-05 7:05' --before='2017-07-05 19:05'
git log --since='2017-07-05 7:05' --until='2017-07-05 19:05'
```

上述兩種指令可以擇一輸入，顯示的功能完全相同

+ 顯示每一個 commit 變更的狀況

```
git log --stat
git log --numstat
git log --shortstat
git log --oneline
```

這樣會顯示的更加精簡(加入 --oneline 選項後)

```
git log --stat --oneline
```

2. `git shortlog`

這個指令會依照名字的字母順序，列出每一個人執行 commit 的次數和說明

加入其他選項

```
git shortlog --unmbered/-n //依照 commit 次數，由高到低排列
git shortlog --summary/-s  //不需要顯示 commit 說明
```

前為長選項，後為短選項，挑一個輸入即可。

3. `git ls-files`

這個指令會列出目前 Git 檔案庫中的檔案清單。搭配 xargs 和 wc 這兩個工具程式，計算檔案中的程式碼行數。

```
git ls-files | xargs wc -l
```

```
 21 AndroidManifest.xml
109 GameFragment.java
 39 MainActivity.java
169 total 
```

#### 補充說明

如果 Git 指令顯示的訊息超過螢幕高度，畫面會自動停止。此時可以使用以下按鍵進行後續操作：

1. `J` 表示顯示下一行 
2. `Q` 表示結束此狀態，繼續輸入其他指令
3. `H` 表示顯示操作說明地幫助
4. `空白鍵(space)` 表示顯示下一頁


### 6-2 GitStats 繪製統計圖表

GitStats 是一個開放原始碼的程式專案，是使用 Python 語言開發。

首先會利用 Git 指令，從檔案庫中取得統計數據，再藉由 gnuplot 繪圖套件，將資料繪製成統計圖表。